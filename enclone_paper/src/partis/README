This file explains how we installed and ran partis. The developers of partis
maintain very helpful documentation for installation and operation at
https://github.com/psathyrella/partis. 

# --- Installation ---
1. Install Docker (if you're an organizational developer you should involve
   your infosec/IT admins early as Docker is best installed via root/sudo
   privileges which may not be available to you).

2. Install partis by running the following:

   #!/usr/env/bin bash
   docker pull psathyrella/partis

3. You may find `tmux` to be helpful in case you're disconnected from whatever
   server you've installed Docker and `partis` on while it's running. You can
   start a new session via `tmux new -s partis` that can then be reattached to
   after disconnection by `tmux a -t partis`.

4. Run partis from a directory containing your data:

   #!/usr/env/bin bash
   # the $PWD:/mydata:z mounts your directory to /mydata in the docker container
   # the --name partis creates a Docker image named partis
   docker run -it --name partis -v $PWD:/mydata:z psathyrella/partis /bin/bash

5. (3) will open a bash session within the Docker image. You can then analyze
   your data using `partis` with the following command:

   #!/usr/env/bin bash
   bin/partis partition --fast --paired-loci --dont-calculate-annotations \
    --random-seed 0 --paired-outdir partis_testplus --infname --airr-output \
    /mydata/filtered_contig.fasta

   Note that `filtered_contig.fasta` is generated by the `enclone` commands
   described in the paper (previously the binary `build_immcantation_inputs`).

6. The AIRR output from partis can then be assessed using the binary previously
   named `assess_immcantation`.

Some other points that are important and worth noting:

- partis is designed to emphasize sensitivity over specificity. This does not
  mean that it is overly sensitive or insufficiently specific! Rather, users
  can tune the specificity/sensitivity of partis by altering arguments into
  vsearch (which is turned on above using the --fast flag). 
